@model ChairtyApplication.Models.User

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section id="slider-menu">
    <div class="main-menu">
        <div class="container">
            <nav class="navbar navbar-default text-center">
                <div class="container-fluid">



                    <a href="@Url.Action("Index", "Home")" class="text-white">
                        <img src="~/Content/images/logoHome.png" style="padding-bottom:5px;">
                        <h1 style="display:inline-block; font-family:he1;"> جمعيتى </h1>
                    </a>

                </div>


                <!-- /.container-fluid -->
            </nav>
        </div>
    </div>
</section>
<section id="log-signup">

    <div class="sec-overlay"></div>
    <div class="container">
        <div class="content">

            <div class="col-md-8 col-md-offset-2">
                <ul class="nav nav-tabs">
                    <li class="">
                        <a href="@Url.Action("Login", "Users")">تسجيل الدخول</a>
                    </li>
                    <li class="active">
                        <a href="@Url.Action("Create", "Users")">سجل الآن</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane fade" id="login-tab">
                        <h2> تسجيل الدخول</h2>

                        <form name="login-form" class="clearfix">
                            <div class="row">
                                <div class="form-group col-md-12">
                                    <label for="form_username_email">اسم المستخدم/البريد الالكتروني</label>
                                    <input id="form_username_email" name="form_username_email" class="form-control" type="text">
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-md-12">
                                    <label for="form_password">كلمه المرور</label>
                                    <input id="form_password" name="form_password" class="form-control" type="text">
                                </div>
                            </div>
                            <div class="checkbox pull-right">
                                <label for="form_checkbox">
                                    <input id="form_checkbox" name="form_checkbox" type="checkbox"> تذكرني عند الدخول مره اخري
                                </label>
                            </div>
                            <div class="form-group pull-left">
                                <button type="submit" class="btn btn-default"> دخول </button>
                            </div>
                            <div class="clear">
                                <a href="#" class=" text-white"> هل نسيت كلمه السر ؟</a>
                            </div>
                            <div class="clear text-center ">
                                <a class="btn btn-default" href="#" data-bg-color="#3b5998" style="background: rgb(59, 89, 152) !important; color:#fff;">تسجيل الدخول بالفيسبوك</a>
                                <a class="btn btn-default" href="#" data-bg-color="#00acee" style="background: rgb(0, 172, 238) !important; color:#fff;">تسجيل الدخول بتويتر</a>
                            </div>
                        </form>
                    </div>
                    <div class="tab-pane fade p-15 active in" id="register-tab">
                        @using (Html.BeginForm("Create", "Users"))
                        {
                            @Html.AntiForgeryToken()
                            @Html.HiddenFor(x => x.Landitude);
                            @Html.HiddenFor(x => x.Magnitude);

                            <h2> اليس لديك حساب ؟ سجل الآن.</h2>
                            <div class="row">
                                <div class="form-group col-md-6">
                                    <label>الاسم</label>
                                    @Html.EditorFor(model => model.UserName, new { htmlAttributes = new { @class = "form-control" } })
                                </div>
                                <div class="form-group col-md-6">
                                    <label>عنوان البريد الالكتروني</label>
                                    @*<input name="form_email" class="form-control" type="email">*@
                                    @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", @type = "email" } })
                                </div>
                            </div>


                            <div class="row">
                                <div class="form-group col-md-6">
                                    <label for="form_choose_password">اختر كلمه المرور</label>
                                    @*<input id="form_choose_password" name="form_choose_password" class="form-control" type="text">*@
                                    @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control" } })
                                </div>
                                <div class="form-group col-md-6">
                                    <label>أعاده إدخال كلمه المرور</label>
                                    <input id="form_re_enter_password" name="form_re_enter_password" class="form-control" type="text">
                                </div>
                            </div>

                            <div class="row">
                                <div class="form-group col-md-6">
                                    <label for="form_choose_password">الرقم القومى</label>
                                    @Html.EditorFor(model => model.IdentificationNumber , new { htmlAttributes = new { @class = "form-control" } })
                                </div>
                                <div class="form-group col-md-6">
                                    <label>نوع فصيلة الدم</label>
                                    
                                    @Html.EditorFor(model => model.BloodCategory, new { htmlAttributes = new { @class = "form-control" } })
                                </div>
                            </div>

                            <div class="row">
                                <div class="form-group col-md-6">
                                    <label for="form_choose_password">رقم بطاقة الإئتمان</label>
                                    @Html.EditorFor(model => model.CreditNumber, new { htmlAttributes = new { @class = "form-control" } })
                                </div>
                                <div class="form-group col-md-6">
                                    <label>نوع فصيلة الدم</label>
                                    @Html.DropDownList("creditId", (SelectList) ViewBag.CreditId, htmlAttributes: new { @class = "form-control" })
                                    @*@Html.DropDownListFor(model => model.BloodCategor, new { htmlAttributes = new { @class = "form-control" } })*@
                                </div>
                            </div>
                            <div id ="map_canvas" class ="row" height="300"></div>
                            <div class="form-group">
                                <button class="btn btn-default" type="submit">سجل الآن </button>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>



<style>
    #map_canvas  {
        max-width: none;
        height: 300px;
    }
</style>  


<script src="~/Content/Scripts/jquery.js"></script>

<script>
    var map, marker;

    function initMap() {
        google.maps.visualRefresh = true;    
        var Liverpool = new google.maps.LatLng(53.408841, -2.981397); 

        var mapOptions = {    
            zoom: 14,    
            center: Liverpool,    
            mapTypeId: google.maps.MapTypeId.G_NORMAL_MAP    
        };
         map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);  

        var myLatlng = new google.maps.LatLng(53.40091, -2.994464);    
        marker = new google.maps.Marker({    
            position: myLatlng,    
            map: map,    
            title: 'Tate Gallery'    
        }); 

        marker.setIcon('http://maps.google.com/mapfiles/ms/icons/green-dot.png');

        google.maps.event.addListener(map, 'click', function(event) {
            placeMarker(event.latLng);
        });

        

    }
    function placeMarker(location) {
        marker.setMap(null);
        marker = new google.maps.Marker({
            position: location, 
            map: map
        });


        //COMPLETED : save lat and lon
        
        $("#Landitude").val(location.lat());
        $("#Magnitude").val(location.lng());
    }

    
         
    
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDFW3qjglvctXfBS-U55U2M9byG0B3y_PQ&callback=initMap"
        async defer></script>


@section Scripts {
    
   
   


    @Scripts.Render("~/bundles/jqueryval")
}